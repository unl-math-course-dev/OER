<?xml version="1.0" encoding="UTF-8" ?>
<!-- Some very fishy formatting needs to be fixed, -Zach 2024-06-13 -->
<section xmlns:xi="http://www.w3.org/2001/XInclude" xml:id="sec-12-1-compound-interest">
	<title>Compound Interest</title>
	<introduction>
		<p>
			We have to work with money every day.
			While balancing your checkbook or calculating your monthly expenditures on espresso requires only arithmetic, when we start saving, planning for retirement, or need a loan, we need more mathematics.
		</p>
	</introduction>

	<subsection>
		<title>Simple Interest</title>
		<p>
			Discussing interest starts with the <term>principal</term>, or amount your account starts with.
			This could be a starting investment, or the starting amount of a loan.
			Interest, in its most simple form, is calculated as a percent of the principal.
			For example, if you borrowed $100 from a friend and agree to repay it with 5% interest, then the amount of interest you would pay would just be 5% of 100:  $100(0.05) = $5.
			The total amount you would repay would be $105, the original principal plus the interest.
		</p>

		<assemblage>
			<title>Simple One-time Interest</title>
			<p>
				<m>I = P_0 r</m>
			</p>

			<p>
				<m>A = P_0 +I = P_0 + P_0 r = P_0(1+r)</m>
			</p>
			<!-- Try putting this in an unordered list?
			<ol>
			</ol>
			-->
			<p>
				<m>I</m> is the interest
			</p>

			<p>
				<m>A</m> is the end amount; principal plus interest
			</p>

			<p>
				<m>P_0</m> is the principal (starting amount)
			</p>

			<p>
				<m>r</m> is the interest rate in decimal form (example <m>5%=0.05</m>
			</p>
		</assemblage>

		<example>
			<p>
				A friend asks to borrow $300 and agrees to repay it in 30 days with 3% interest.
				How much interest will you earn?
			</p>

			<p>
				<m>P_0 = $300</m>, the principal
			</p>

			<p>
				<m>r = 0.03</m>, the 3% interest rate
			</p>

			<p>
				<m>I = $300(0.03) = $9.</m>You will earn $9 interest.
			</p>
		</example>

		<p>
			One-time simple interest is only common for extremely short-term loans.
			For longer term loans, it is common for interest to be paid on a daily, monthly, quarterly, or annual basis.
			Therefore we will focus our attention on what is known as compound interest.
		</p>
	</subsection>

	<subsection>
		<title>Compound Interest</title>
		<p>
			With simple interest, we were assuming that we pocketed the interest when we received it.
			In a standard bank account, any interest we earn is automatically added to our balance, and we earn interest on that interest in future years.
			This reinvestment of interest is called <term>compounding</term>.
		</p>

		<p>
			Suppose that we deposit $1000 in a bank account offering 3% interest, compounded monthly.
			How will our money grow?
		</p>

		<p>
			The 3% interest is an annual percentage rate (APR) – the total interest to be paid during the year.
			Since interest is being paid monthly, each month, we will earn <m>3%/12 = 0.25%</m> per month.
		</p>

		<p>
			In the first month,
		</p>

		<p>
			<m>P0 = $1000</m>
		</p>

		<p>
			<m>I = $1000 (0.0025) = $2.50</m>
		</p>

		<p>
			<m>A = $1000 + $2.50 = $1002.50</m>
		</p>

		<p>
			In the first month, we will earn $2.50 in interest, raising our account balance to $1002.50
		</p>

		<p>
			In the second month,
		</p>

		<p>
			<m>P_0 = $1002.50</m>
		</p>

		<p>
			<m>I = $1002.50 (0.0025) = $2.51 </m> (rounded)
		</p>

		<p>
			<m>A = $1002.50 + $2.51 = $1005.01</m>
		</p>

		<p>
			Notice that in the second month we earned more interest than we did in the first month.
			This is because we earned interest not only on the original $1000 we deposited, but we also earned interest on the $2.50 of interest we earned the first month.
			This is the key advantage that <term>compounding</term> of interest gives us.
		</p>

		<p>
			Calculating out a few more months yields the following table:
		</p>

		<table>
			<title>  </title>
			<tabular top="medium">
				<row bottom="medium" left="medium">
				<cell  right="medium">
				<line>
				</line>

				<line>
				Month
				</line>

				<line>
				</line>
				</cell>
				<cell right="medium">
				<line>
				</line>

				<line>
				Starting balance
				</line>

				<line>
				</line>
				</cell>
				<cell right="medium">
				<line>
				</line>

				<line>
				Interest earned
				</line>

				<line>
				</line>
				</cell>
				<cell right="medium">
				<line>
				</line>

				<line>
				Ending Balance
				</line>

				<line>
				</line>
				</cell>
				</row>
				<row bottom="medium" left="medium">
				<cell  right="medium">
				<line>
				</line>

				<line>
				1
				</line>

				<line>
				</line>
				</cell>
				<cell right="medium">
				<line>
				</line>

				<line>
				1000.00
				</line>

				<line>
				</line>
				</cell>
				<cell right="medium">
				<line>
				</line>

				<line>
				2.50
				</line>

				<line>
				</line>
				</cell>
				<cell right="medium">
				<line>
				</line>

				<line>
				1002.50
				</line>

				<line>
				</line>
				</cell>
				</row>
				<row bottom="medium" left="medium">
				<cell  right="medium">
				<line>
				</line>

				<line>
				2
				</line>

				<line>
				</line>
				</cell>
				<cell right="medium">
				<line>
				</line>

				<line>
				1002.50
				</line>

				<line>
				</line>
				</cell>
				<cell right="medium">
				<line>
				</line>

				<line>
				2.51
				</line>

				<line>
				</line>
				</cell>
				<cell right="medium">
				<line>
				</line>

				<line>
				1005.01
				</line>

				<line>
				</line>
				</cell>
				</row>
				<row bottom="medium" left="medium">
				<cell  right="medium">
				<line>
				</line>

				<line>
				3
				</line>

				<line>
				</line>
				</cell>
				<cell right="medium">
				<line>
				</line>

				<line>
				1005.01
				</line>

				<line>
				</line>
				</cell>
				<cell right="medium">
				<line>
				</line>

				<line>
				2.51
				</line>

				<line>
				</line>
				</cell>
				<cell right="medium">
				<line>
				</line>

				<line>
				1007.52
				</line>

				<line>
				</line>
				</cell>
				</row>
				<row bottom="medium" left="medium">
				<cell  right="medium">
				<line>
				</line>

				<line>
				4
				</line>

				<line>
				</line>
				</cell>
				<cell right="medium">
				<line>
				</line>

				<line>
				1007.52
				</line>

				<line>
				</line>
				</cell>
				<cell right="medium">
				<line>
				</line>

				<line>
				2.52
				</line>

				<line>
				</line>
				</cell>
				<cell right="medium">
				<line>
				</line>

				<line>
				1010.04
				</line>

				<line>
				</line>
				</cell>
				</row>
				<row bottom="medium" left="medium">
				<cell  right="medium">
				<line>
				</line>

				<line>
				5
				</line>

				<line>
				</line>
				</cell>
				<cell right="medium">
				<line>
				</line>

				<line>
				1010.04
				</line>

				<line>
				</line>
				</cell>
				<cell right="medium">
				<line>
				</line>

				<line>
				2.53
				</line>

				<line>
				</line>
				</cell>
				<cell right="medium">
				<line>
				</line>

				<line>
				1012.57
				</line>

				<line>
				</line>
				</cell>
				</row>
				<row bottom="medium" left="medium">
				<cell  right="medium">
				<line>
				</line>

				<line>
				6
				</line>

				<line>
				</line>
				</cell>
				<cell right="medium">
				<line>
				</line>

				<line>
				1012.57
				</line>

				<line>
				</line>
				</cell>
				<cell right="medium">
				<line>
				</line>

				<line>
				2.53
				</line>

				<line>
				</line>
				</cell>
				<cell right="medium">
				<line>
				</line>

				<line>
				1015.10
				</line>

				<line>
				</line>
				</cell>
				</row>
				<row bottom="medium" left="medium">
				<cell  right="medium">
				<line>
				</line>

				<line>
				7
				</line>

				<line>
				</line>
				</cell>
				<cell right="medium">
				<line>
				</line>

				<line>
				1015.10
				</line>

				<line>
				</line>
				</cell>
				<cell right="medium">
				<line>
				</line>

				<line>
				2.54
				</line>

				<line>
				</line>
				</cell>
				<cell right="medium">
				<line>
				</line>

				<line>
				1017.64
				</line>

				<line>
				</line>
				</cell>
				</row>
				<row bottom="medium" left="medium">
				<cell  right="medium">
				<line>
				</line>

				<line>
				8
				</line>

				<line>
				</line>
				</cell>
				<cell right="medium">
				<line>
				</line>

				<line>
				1017.64
				</line>

				<line>
				</line>
				</cell>
				<cell right="medium">
				<line>
				</line>

				<line>
				2.54
				</line>

				<line>
				</line>
				</cell>
				<cell right="medium">
				<line>
				</line>

				<line>
				1020.18
				</line>

				<line>
				</line>
				</cell>
				</row>
				<row bottom="medium" left="medium">
				<cell  right="medium">
				<line>
				</line>

				<line>
				9
				</line>

				<line>
				</line>
				</cell>
				<cell right="medium">
				<line>
				</line>

				<line>
				1020.18
				</line>

				<line>
				</line>
				</cell>
				<cell right="medium">
				<line>
				</line>

				<line>
				2.55
				</line>

				<line>
				</line>
				</cell>
				<cell right="medium">
				<line>
				</line>

				<line>
				1022.73
				</line>

				<line>
				</line>
				</cell>
				</row>
				<row bottom="medium" left="medium">
				<cell  right="medium">
				<line>
				</line>

				<line>
				10
				</line>

				<line>
				</line>
				</cell>
				<cell right="medium">
				<line>
				</line>

				<line>
				1022.73
				</line>

				<line>
				</line>
				</cell>
				<cell right="medium">
				<line>
				</line>

				<line>
				2.56
				</line>

				<line>
				</line>
				</cell>
				<cell right="medium">
				<line>
				</line>

				<line>
				1025.29
				</line>

				<line>
				</line>
				</cell>
				</row>
				<row bottom="medium" left="medium">
				<cell  right="medium">
				<line>
				</line>

				<line>
				11
				</line>

				<line>
				</line>
				</cell>
				<cell right="medium">
				<line>
				</line>

				<line>
				1025.29
				</line>

				<line>
				</line>
				</cell>
				<cell right="medium">
				<line>
				</line>

				<line>
				2.56
				</line>

				<line>
				</line>
				</cell>
				<cell right="medium">
				<line>
				</line>

				<line>
				1027.85
				</line>

				<line>
				</line>
				</cell>
				</row>
				<row bottom="medium" left="medium">
				<cell  right="medium">
				<line>
				</line>

				<line>
				12
				</line>

				<line>
				</line>
				</cell>
				<cell right="medium">
				<line>
				</line>

				<line>
				1027.85
				</line>

				<line>
				</line>
				</cell>
				<cell right="medium">
				<line>
				</line>

				<line>
				2.57
				</line>

				<line>
				</line>
				</cell>
				<cell right="medium">
				<line>
				</line>

				<line>
				1030.42
				</line>

				<line>
				</line>
				</cell>
				</row>
			</tabular>
		</table>

		<p>
			To find an equation to represent this, if Pm represents the amount of money after m months, then we could write the recursive equation:
		</p>

		<p>
			<m>P_0 = $1000</m>
		</p>

		<p>
			<m>P_m = (1+0.0025)P_{m-1}</m>
		</p>

		<p>
			You probably recognize this as the recursive form of exponential growth.
			If not, we could go through the steps to build an explicit equation for the growth:
		</p>

		<p>
			<m>P_0 = $1000</m>
		</p>

		<p>
			<m>P_1 = 1.0025P_0 = 1.0025 (1000)</m>
		</p>

		<p>
			<m>P_2 = 1.0025P_1 = 1.0025 (1.0025 (1000)) = 1.0025^2(1000)</m>
		</p>

		<p>
			<m>P_3 = 1.0025P_2 = 1.0025 (1.0025^2(1000)) = 1.0025^3(1000)</m>
		</p>

		<p>
			<m>P_4 = 1.0025P_3 = 1.0025 (1.0025^3(1000)) = 1.0025^4(1000)</m>
		</p>

		<p>
			Observing a pattern, we could conclude
		</p>

		<p>
			<m>P_m = (10025)^m($1000)</m>
		</p>

		<p>
			Notice that the $1000 in the equation was <m>P_0</m>, the starting amount.
			We found 1.0025 by adding one to the growth rate divided by 12, since we were compounding 12 times per year.
			Generalizing our result, we could write
			<me>
				P_m = P_0 \left( 1+\frac{r}{k} \right)^m
			</me>
		</p>

		<p>
			In this formula <m>m</m> is the number of compounding periods (months in our example), <m>r</m> is the annual interest rate, and <m>k</m> is the number of compounds per year.
		</p>

		<p>
			While this formula works fine, it is more common to use a formula that involves the number of years, rather than the number of compounding periods.
			If <m>N</m> is the number of years, then  <m>m = N k</m>.
			Making this change gives us the standard formula for compound interest.
		</p>

		<assemblage>
			<title>Compound Interest</title>
			<p>
				<me>
					P_N = P_0 \left( 1+\frac{r}{k} \right)^{Nk}
				</me>
			</p>

			<p>
				<m>P_N</m> is the balance in the account after <m>N</m> years.
			</p>

			<p>
				<m>P_0</m> is the starting balance of the account (also called initial deposit, or principal)
			</p>

			<p>
				<m>r</m> is the annual interest rate in decimal form
			</p>

			<p>
				<m>k</m> is the number of compounding periods in one year.
			</p>
		</assemblage>

		<p>
			If the compounding is done annually (once a year), <m>k = 1.</m> If the compounding is done quarterly, <m>k = 4.</m>
			If the compounding is done monthly, <m>k = 12</m>.
			If the compounding is done daily, <m>k = 365</m>.
		</p>

		<p>
			The most important thing to remember about using this formula is that it assumes that we put money in the account once and let it sit there earning interest.
		</p>

		<example>
			<p>
				A certificate of deposit (CD) is a savings instrument that many banks offer.
				It usually gives a higher interest rate, but you cannot access your investment for a specified length of time.
				Suppose you deposit $3000 in a CD paying 6% interest, compounded monthly.
				How much will you have in the account after 20 years?
			</p>

			<p>
				In this example,
				<m>P_0 = $3000 </m>	is the initial deposit;
				<m>r = 0.06</m> since the annual rate is 6%;
				<m>k = 12</m> since there are 12 months in 1 year; and
				<m>N = 20</m>	since we’re looking for how much we’ll have after 20 years.
			</p>

			<p>
				So  <m>P_{20} = 3000 \left( 1+\frac{0.06}{12} \right)^{20 \times 12} = $9930.61</m> (rounded to the nearest penny).
			</p>
		</example>

		<assemblage>
			<title>Evaluating exponents on the calculator</title>
			<p>
				When we need to calculate something like <m>5^3</m> it is easy enough to just multiply <m>5⋅5⋅5=125</m>.
				But when we need to calculate something like <m>1.005^{240}</m>, it would be very tedious to calculate this by multiplying 1.005 by itself 240 times!  So to make things easier, we can harness the power of our scientific calculators.
			</p>

			<p>
				Most scientific calculators have a button for exponents.
				It is typically either labeled like:
			</p>

			<p>
				<m>[</m> ^ <m>]</m>, <m>[y^x]</m>, or <m>[ x^y ]</m>
			</p>

			<p>
				To evaluate <m>1.005^{240}</m>  we'd type  [1.005]  [ ^ ]  [240]  or  [1.005]  [ <m>y^x</m> ]  [240].
				Try it out - you should get something around 3.3102044758.
			</p>
		</assemblage>

		<example>
			<p>
				You know that you will need $40,000 for your child's education in 18 years.
				If your account earns 4% compounded quarterly, how much would you need to deposit now to reach your goal?
			</p>

			<p>
				In this example, we’re looking for <m>P_0</m>.
			</p>

			<p>
				We know <m>r = 0.04 </m> (since the interest is	4%), <m>k = 4</m> (since there are 4 quarters in 1 year),
				<m>N = 18</m>	since this is when we want to have achieved the desired balance, and <m>P_{18} = $40,000</m>	since this is the amount we want in 18 years.
			</p>

			<p>
				In this case, we’re going to have to set up the equation, and solve for <m>P_0</m>:
			</p>

			<p>
				<m>40000 = P_0 \left( 1+\frac{0.04}{4} \right)^{18 \times 4}</m>
			</p>

			<p>
				<m>40000 = P_0 (2.0471)</m>
			</p>

			<p>
				<m>P_0 = \frac{40000}{2.0471} = $19539.84</m>
			</p>

			<p>
				So you would need to deposit $19,539.84 now to have $40,000 in 18 years.
			</p>
		</example>
		<!--
		<p>
			EVERYTHING BELOW THIS POINT IS LEFTOVER FROM SECTION 9-2
		</p>

		<exploration>
			<statement>
				India is the second most populous country in the world, with a population in 2008 of about 1.14 billion people.
				The population is growing by about 1.34% each year.
				If this trend continues, what will India's population grow to by 2020?
			</statement>

			<solution>
				<p>
					Using <m>n=0</m> corresponding with 2008,
				</p>
				<me>
					P_{12} = (1+0.0314)^{12}(1.14) = \text{about } 1.137 \text{ billion people in 2020}
				</me>
			</solution>
		</exploration>

		<example>
			<p>
				In 1990, the residential energy use in the US was responsible for 962 million metric tons of carbon dioxide emissions.
				By the year 2000, that number had risen to 1182 million metric tons.
				If the emissions grow exponentially and continue at the same rate, what will the emissions grow to by 2050?
			</p>

			<p>
				Similar to before, we will correspond n = 0 with 1990, as that is the year for the first piece of data we have.
				That will make <m>P_0</m> = 962 (million metric tons of CO2).
				In this problem, we are not given the growth rate, but instead are given that <m>P_10</m> = 1182.
			</p>

			<p>
				When n=10, the explicit equation looks like:
			</p>
			<me>
				P_{10} = (1+r)^{10}P_0
			</me>

			<p>
				We know the value for <m>P_0</m>, so we can put that into the equation:
			</p>
			<me>
				P_{10} = (1+r)^{10}962
			</me>

			<p>
				We also know that <m>P_{10} = 1182</m>, so substituting that in, we get
			</p>
			<me>
				1182 = (1+r)^{10}962
			</me>

			<p>
				We can now solve this equation for the growth rate <m>r</m>.
				Start by dividing by 962.
			</p>

			<sidebyside>
				<tabular>
					<row>
					<cell>
					<me>
						\frac{1182}{962}=(1+r)^{10}
					</me>
					</cell>
					<cell>
					Take the 10th root of both sides
					</cell>
					</row>
					<row>
					<cell>
					<me>
						\sqrt[10]{\frac{1182}{962}} = 1+r
					</me>
					</cell>
					<cell>
					Subtract 1 from both sides
					</cell>
					</row>
					<row>
					<cell>
					<me>
						r = \sqrt[10]{\frac{1182}{962}}-1 = 0.0208 = 2.08\%
					</me>
					</cell>
					<cell>
					</cell>
					</row>
				</tabular>
			</sidebyside>

			<p>
				So if the emissions are growing exponentially, they are growing by about 2.08% per year.
				We can now predict the emissions in 2050 by finding <m>P_{60}</m>.
			</p>

			<p>
				<m>P_{60} = (1+0.0208)^{60}962 = 3308.4</m> million metric tons of CO<m>_2</m> in 2050.
			</p>
		</example>

		<assemblage>
			<title>Rounding</title>
			<p>
				As a note on rounding, notice that if we had rounded the growth rate to 2.1%, our calculation for the emissions in 2050 would have been 3347.
				Rounding to 2% would have changed our result to 3156.
				A very small difference in the growth rates gets magnified greatly in exponential growth.
				For this reason, it is recommended to round the growth rate as little as possible.
			</p>

			<p>
				If you need to round, <emph>keep at least three significant </emph> - numbers after any leading zeros.
				So 0.4162 could be reasonably rounded to 0.416.
				A growth rate of 0.001027 could be reasonably rounded to 0.00103.
			</p>
		</assemblage>

		<assemblage>
			<title>Evaluating roots on the calculator</title>
			<p>
				In the previous example, we had to calculate the 10th root of a number.
				This is different than taking the basic square root, <m>\sqrt{}</m>.
				Many scientific calculators have a button for general roots.
				It is typically labeled like:  <m>\sqrt[n]{} \text{, } \sqrt[x]{} \text{, or } \sqrt[y]{x} </m>
			</p>

			<p>
				To evaluate the 3rd root of 8, for example, we'd either type <m>3 \sqrt[3]{} 8 </m>  or <m> 8 \sqrt[3]{x} 3</m>, depending on the calculator.
				Try it on yours to see which to use - you should get an answer of 2.
			</p>

			<p>
				If your calculator does not have a general root button, all is not lost.
				You can instead use the property of exponents which states that <m>\sqrt[n]{a} = a^{\frac{1}{n}}</m>.
				So to compute the 3rd root of 8, you could use your calculator's exponent key to calculate <m>8^{\frac{1}{3}}</m>.
				To do this, type: <m>8 y^x (1 \div 3)</m>.
			</p>

			<p>
				The parentheses tell the calculator to divide 1/3 before doing the exponent.
			</p>
		</assemblage>

		<exploration>
			<statement>
				<p>
					The number of users on a social networking site was 45 thousand in February when they officially went public, and grew to 60 thousand by October.
					If the site is growing exponentially, and growth continues at the same rate, how many users should they expect two years after they went public?
				</p>
			</statement>

			<solution>
				<p>
					Here we will measure n in months rather than years, with n = 0 corresponding to the February when they went public.
					This gives <m>P_0 = 45</m> thousand.
					October is 8 months later, so <m>P_8 = 60</m>
				</p>
				<me>
					P_8 = (1+r)^8 P_0
				</me>
				<me>
					60 = (1+r)^8 45
				</me>
				<me>
					\frac{60}{45} = (1+r)^8
				</me>
				<me>
					\sqrt[8]{\frac{60}{45}} = 1 + r
				</me>
				<me>
					r = \sqrt[8]{\frac{60}{45}} -1 = 0.0366 \text{ or } 3.66\%
				</me>

				<p>
					The general explicit equation is <m>P_n = (1.0366)^n45</m>.
					Predicting 24 months (2 years) after they went public:
				</p>
				<me>
					P_{24} = (1.0366)^{24}45 = 106.63 \text{ thousand users}
				</me>
			</solution>
		</exploration>

		<example>
			<p>
				Looking back at the last example, for the sake of comparison, what would the carbon emissions be in 2050 if emissions grow linearly at the same rate?
			</p>

			<p>
				Again we will get n = 0 corresponds with 1990, giving <m>P_0 = 962</m>.
				To find d, we could take the same approach as earlier, noting that the emissions increased by 220 million metric tons in 10 years, giving a common difference of 22 million metric tons each year.
			</p>

			<p>
				Alternatively, we could use an approach similar to that which we used to find the exponential equation.
				When n = 10, the explicit linear equation looks like:
			</p>
			<me>
				P_{10} = P_0 + 10d
			</me>

			<p>
				We know the value for <m>P_0</m>, so we can put that into the equation:
			</p>
			<me>
				P_{10} = 962 + 10d
			</me>

			<p>
				Since we know that <m>P_{10}</m> is 1182, substituting that in we get
			</p>
			<me>
				1182 = 962 + 10d
			</me>

			<p>
				We can now solve this equation for the common difference, d
			</p>
			<me>
				1182-962 = 10d
			</me>
			<me>
				220 = 10d
			</me>
			<me>
				d = 22
			</me>

			<p>
				This tells us that if the emissions are changing linearly, they are growing by 22 million metric tons each year.
				Predicting the emissions in 2050,
			</p>
			<me>
				P_{60} = 962 + 22(60) = 2282 \text{ million metric tons}
			</me>

			<sidebyside>
				<p>
					You will notice that this number is substantially smaller than the prediction from the exponential growth model.
					Calculating and plotting more values helps illustrate the differences.
				</p>

				<image source="lin-v-exp.png" width="70%" />
				</sidebyside>
			</example>

			<p>
				So how do we know which growth model to use when working with data?  There are two approaches which should be used together whenever possible:
				<ol>
					<li>
						Find more than two pieces of data.
						Plot the values, and look for a trend.
						Does the data appear to be changing like a line, or do the values appear to be curving upwards?
					</li>

					<li>
						Consider the factors contributing to the data.
						Are they things you would expect to change linearly or exponentially?  For example, in the case of carbon emissions, we could expect that, absent other factors, they would be tied closely to population values, which tend to change exponentially.
					</li>
				</ol>
			</p>
			-->
		</subsection>
	</section>
