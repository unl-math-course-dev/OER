<?xml version="1.0" encoding="UTF-8" ?>
<!-- **********************************************************************-->
<!-- Copyright 2019                                                        -->
<!-- UNL Department of Mathematics                                         -->
<!-- Based upon the work of                                                -->
<!-- Matthew Boelkins                                                      -->
<!-- Copyright 2012-2018                                                   -->
<!--                                                                       -->
<!-- This file is part of Coordinated Calculus.                            -->
<!-- This file is based on Active Calculus.                                -->
<!--                                                                       -->
<!-- Permission is granted to copy, distribute and/or modify this document -->
<!-- under the terms of the Creative Commons BY-SA license.  The work      -->
<!-- may be used for free by any party so long as attribution is given to  -->
<!-- the author(s), the work and its derivatives are used in the spirit of -->
<!-- "share and share alike".  All trademarks are the registered marks of  -->
<!-- their respective owners.                                              -->
<!-- **********************************************************************-->
<section xmlns:xi="http://www.w3.org/2001/XInclude" xml:id="sec-4-2-Riemann" permid="DvA">
  <title>Riemann Sums</title>
  <objectives permid="Ift">
    <ul permid="AAU">
      <li permid="MPm">
        <p permid="xGo">
          How can we use a Riemann sum to estimate the area between a given curve and the horizontal axis over a particular interval?
        </p>
      </li>

      <li permid="sWv">
        <p permid="dNx">
          What are the differences among left, right,
          middle, and random Riemann sums?
        </p>
      </li>

      <li permid="ZdE">
        <p permid="JUG">
          How can we write Riemann sums in an abbreviated form?
        </p>
      </li>
    </ul>
  </objectives>

  <introduction permid="UtL">
    <p permid="uLI">
      In <xref ref="sec-4-1-velocity-distance">Section</xref>,
      we learned that if an object moves with positive velocity <m>v</m>,
      the area between <m>y = v(t)</m> and the <m>t</m>-axis over a given time interval tells us the distance traveled by the object over that time interval.
      If <m>v(t)</m> is sometimes negative and we view the area of any region below the <m>t</m>-axis as having an associated negative sign,
      then the sum of these signed areas tells us the moving object's change in position over a given time interval.
    </p>

    <sidebyside widths="47% 47%" margins="0%" permid="omC">
      <p permid="ixq">
        Consider the velocity function given in <xref ref="F-4-2-Intro">Figure</xref>.
        If the areas of shaded regions are <m>A_1</m>,
        <m>A_2</m>, and <m>A_3</m> as labeled,
        then the total distance <m>D</m> traveled by the moving object on <m>[a,b]</m> is
        <me permid="nRd">
          D = A_1 + A_2 + A_3
        </me>,
        while the total change in the object's position on <m>[a,b]</m> is
        <me permid="TYm">
          s(b) - s(a) = A_1 - A_2 + A_3
        </me>.
      </p>

      <figure xml:id="F-4-2-Intro" permid="OEz">
        <caption>A velocity function that is sometimes negative.</caption>
        <image source="images/4_2_Intro" />
      </figure>
    </sidebyside>

    <p permid="aSR">
      Because the motion is in the negative direction on the interval where <m>v(t) \lt 0</m>,
      we subtract <m>A_2</m> to determine the object's total change in position.
    </p>

    <p permid="Haa">
      Of course, finding <m>D</m> and
      <m>s(b)-s(a)</m> for the graph in <xref ref="F-4-2-Intro">Figure</xref>
      presumes that we can actually find the areas <m>A_1</m>,
      <m>A_2</m>, and <m>A_3</m>.
      So far,
      we have worked with velocity functions that were either constant or linear,
      so that the area bounded by the velocity function and the horizontal axis is a combination of rectangles and triangles,
      and we can find the area exactly.
      However, if the curve bounds a region that is not a familiar geometric shape,
      then we cannot find its area exactly.
      Indeed, this is one of our biggest goals in <xref ref="C-4">Chapter</xref>:
      to learn how to find the exact area bounded between a curve and the horizontal axis for as many different types of functions as possible.
    </p>

    <p permid="nhj">
      In <xref ref="act-4-1-1">Example</xref>,
      we approximated the area under a nonlinear velocity function using rectangles.
      In <xref ref="PA-4-2">Example</xref>,
      we consider three different options for the heights of the rectangles we will use.
    </p>

<example xml:id="PA-4-2" permid="lfo">
<statement>
  <p permid="Uhd">
    A person walking along a straight path has her velocity in miles per hour at time <m>t</m> given by the function <m>v(t) = 0.25t^3-1.5t^2+3t+0.25</m>,
    for times in the interval <m>0 \le t \le 2</m>.
    The graph of this function is also given in each of the three diagrams in <xref ref="F-4-2-PA1">Figure</xref>.
  </p>

  <figure xml:id="F-4-2-PA1" permid="gvv">
    <caption>Three approaches to estimating the area under <m>y = v(t)</m> on the interval <m>[0,2]</m>.</caption>
    <image width="97%" source="images/4_2_PA1" />
  </figure>

  <p permid="Aom">
    Note that in each diagram,
    we use four rectangles to estimate the area under
    <m>y = v(t)</m> on the interval <m>[0,2]</m>,
    but the method by which the four rectangles' respective heights are decided varies among the three individual graphs.

    <ol label="a." permid="qUA">
      <li permid="XbJ">
        <p permid="vEt">
          How are the heights of rectangles in the left-most diagram being chosen?
          Explain, and hence determine the value of
          <me permid="MCE">
            S = A_1 + A_2 + A_3 + A_4
          </me>
          by evaluating the function
          <m>y = v(t)</m> at appropriately chosen values and observing the width of each rectangle.
          Note, for example, that
          <me permid="sJN">
            A_3 = v(1) \cdot \frac{1}{2} = 2 \cdot \frac{1}{2} = 1
          </me>.
        </p>
      </li>

      <li permid="DiS">
        <p permid="bLC">
          Explain how the heights of rectangles are being chosen in the middle diagram and find the value of
          <me permid="YQW">
            T = B_1 + B_2 + B_3 + B_4
          </me>.
        </p>
      </li>

      <li permid="jqb">
        <p permid="HSL">
          Likewise,
          determine the pattern of how heights of rectangles are chosen in the right-most diagram and determine
          <me permid="EYf">
            U = C_1 + C_2 + C_3 + C_4
          </me>.
        </p>
      </li>

      <li permid="Pxk">
        <p permid="nZU">
          Of the estimates <m>S</m>, <m>T</m>, and <m>U</m>,
          which do you think is the best approximation of <m>D</m>,
          the total distance the person traveled on <m>[0,2]</m>?
          Why?
        </p>
      </li>
    </ol>
  </p>
  </statement>
  <hint>
<p>
  On which sides of the rectangles do the red dots appear?  
  </p>

  </hint>
  <answer>
  <ol>
  <li><p>
  <me>S=2.9375</me></p>
  </li>
  
    <li><p>
  <me>B=3.9375</me></p>
  </li>
  <li>
  <p><m>U</m> appears to be the most accurate estimate.</p>
  </li>
  
  </ol>
  </answer>
  
  <solution>
  <ol>
  <li>
  <p>
  The heights of the rectangles are chosen by evaluating the function <m>v(t) = 0.25t^3-1.5t^2+3t+0.25</m> at the left-hand endpoints.  Specifically,
  <md>
  <mrow>h_1\amp=v(0) = 0.25(0)^3-1.5(0)^2+3(0)+0.25=0.25</mrow>
  <mrow>h_2\amp=v(0.5) = 0.25(0)^3-1.5(0)^2+3(0)+0.25=1.40625</mrow>
  <mrow>h_3\amp=v(1) = 0.25(0)^3-1.5(0)^2+3(0)+0.25=2</mrow>
  <mrow>h_4\amp=v(1.5) = 0.25(0)^3-1.5(0)^2+3(0)+0.25=2.21875</mrow>
  </md>
  Recall that the width of each rectangle is <m>0.5</m>. To determine <m>S</m>, we compute <me>A_1 + A_2 + A_3 + A_4</me>.	Then,
  <md>
  <mrow>A_1 \amp= v(0) \cdot 0.5 = 0.25 \cdot 0.5 = 0.125 </mrow>
  <mrow>A_2 \amp= v(0.5) \cdot 0.5 = 1.40625 \cdot 0.5 = 0.703125 </mrow>
  <mrow>A_3 \amp= v(1) \cdot 0.5 = 2 \cdot 0.5 = 1 </mrow>
  <mrow>A_4 \amp= v(1.5) \cdot 0.5 = 2.21875 \cdot 0.5 = 1.109375 </mrow>
  </md>
  Putting it all together,
  <md>
  <mrow>S \amp= A_1 + A_2 + A_3 + A_4 \amp= 0.125 + 0.703125 + 1 + 1.109375 \amp= 2.9375</mrow>
  </md>
  
  Therefore, <me>S=2.9375</me>
  </p>
  </li>
  
  
    <li>
  <p>
  The heights of the rectangles are chosen by evaluating the function <m>v(t) = 0.25t^3-1.5t^2+3t+0.25</m> at the right-hand endpoints.  Specifically,
  <md>
  <mrow>h_1\amp=v(0.5) = 0.25(0.5)^3-1.5(0.5)^2+3(0.5)+0.25=1.40625</mrow>
  <mrow>h_2\amp=v(1) = 0.25(1)^3-1.5(1)^2+3(1)+0.25=2</mrow>
  <mrow>h_3\amp=v(1.5) = 0.25(1.5)^3-1.5(1.5)^2+3(1.5)+0.25=2.21875</mrow>
    <mrow>h_4\amp=v(2) = 0.25(2)^3-1.5(2)^2+3(2)+0.25=2.25</mrow>
  </md>
  The width of each rectangle is <m>0.5</m>. To determine <m>T</m>, we compute <me>B_1 + B_2 + B_3 + B_4</me>.	Then,
  <md>
  <mrow>B_1 \amp= v(0.5) \cdot 0.5 = 1.40625 \cdot 0.5 = 0.703125 </mrow>
  <mrow>B_2 \amp= v(1) \cdot 0.5 = 2 \cdot 0.5 = 1 </mrow>
  <mrow>B_3 \amp= v(1.5) \cdot 0.5 = 2.21875 \cdot 0.5 = 1.109375 </mrow>
  <mrow>B_4 \amp= v(2) \cdot 0.5 = 2.25 \cdot 0.5 = 1.125 </mrow>
  </md>
  Putting it all together,
  <md>
  <mrow>T \amp= B_1 + B_2 + B_3 + B_4 \amp= 0.703125 + 1 + 1.109375 + 1.125 \amp= 3.9375</mrow>
  </md>
  Therefore, <me>T=3.9375</me>
  </p>
  </li>
  
  
      <li>
  <p>
  The heights of the rectangles are chosen by evaluating the function <m>v(t) = 0.25t^3-1.5t^2+3t+0.25</m> at the points in-between the right-hand and left-hand endpoints i.e. the midpoint.  Specifically,
  <md>
  <mrow>h_1\amp=v(0.25) = 0.25(0.25)^3-1.5(0.25)^2+3(0.25)+0.25=0.91016</mrow>
  <mrow>h_2\amp=v(0.75) = 0.25(0.75)^3-1.5(0.75)^2+3(0.75)+0.25=1.7617</mrow>
  <mrow>h_3\amp=v(1.25) = 0.25(1.25)^3-1.5(1.25)^2+3(1.25)+0.25=2.1445</mrow>
    <mrow>h_4\amp=v(1.75) = 0.25(1.75)^3-1.5(1.75)^2+3(1.75)+0.25=2.2461</mrow>
  </md>
  The width of each rectangle is <m>0.5</m>. To determine <m>U</m>, we compute <me>C_1 + C_2 + C_3 + C_4</me>.	Then,
  <md>
  <mrow>C_1 \amp= v(0.25) \cdot 0.5 = 0.91016 \cdot 0.5 = 0.45508</mrow>
  <mrow>C_2 \amp= v(0.75) \cdot 0.5 = 1.7617 \cdot 0.5 = 0.88085</mrow>
  <mrow>C_3 \amp= v(1.25) \cdot 0.5 = 2.1445 \cdot 0.5 = 1.07225</mrow>
  <mrow>C_4 \amp= v(1.75) \cdot 0.5 = 2.2461 \cdot 0.5 = 1.12305</mrow>
  </md>
  Putting it all together,
  <md>
  <mrow>U \amp= C_1 + C_2 + C_3 + C_4 \amp= 0.45508 + 0.88085 + 1.07225 + 1.12305 \amp= 3.53123</mrow>
  </md>
  Therefore, <me>U=3.53123</me>
  </p>
  </li>
  
  <li>
  <p>
  Visual inspection of the graphs makes it look like that <m>U</m> is the best approximation.  The estimate <m>S</m> is clearly an under-estimate based on the graph; this can be further justified by the computation done in part (a).  
  The estimate <m>T</m> is clearly an over-estimate based on the graph; this can be further justified by the computation done in part (b).  Hence, the estimate <m>U</m> is a fairly accurate approximation.
  </p>
  </li>
  
  
  </ol>
  </solution>
  
</example>
  </introduction>

  <subsection permid="jCJ">
    <title>Sigma Notation</title>
    <p permid="Tos">
      We have used sums of areas of rectangles to approximate the area under a curve.
      Intuitively,
      we expect that using a larger number of thinner rectangles will provide a better estimate for the area.
      Consequently,
      we anticipate dealing with sums of a large number of terms.
      To do so, we introduce <em>sigma notation</em>,
          <idx><h>sigma notation</h></idx>
      named for the Greek letter <m>\Sigma</m>,
      which is the capital letter <m>S</m> in the Greek alphabet.
    </p>

    <p permid="zvB">
      For example, say we are interested in the sum
      <me permid="Afv">
        1 + 2 + 3 + \cdots + 100
      </me>,
      i.e. the sum of the first 100 natural numbers.
      In sigma notation, we write
      <me permid="gmE">
        \sum_{k=1}^{100} k =  1 + 2 + 3 + \cdots + 100
      </me>.
    </p>

    <p permid="fCK">
      We read the symbol <m>\sum_{k=1}^{100} k</m> as
      <q>the sum from <m>k</m> equals 1 to 100 of <m>k</m>.</q>
      The variable <m>k</m> is called the index of summation,
      and any letter can be used for this variable.
      The pattern in the terms of the sum is denoted by a function of the index;
      for example,
      <me permid="MtN">
        \sum_{k=1}^{10} (k^2 + 2k) =  (1^2 + 2\cdot 1) + (2^2 + 2\cdot 2) + (3^2 + 2\cdot 3) + \cdots + (10^2 + 2\cdot 10)
      </me>,
      and more generally,
      <me permid="sAW">
        \sum_{k=1}^n f(k) = f(1) + f(2) + \cdots + f(n)
      </me>.
    </p>

    <p permid="LJT">
      Sigma notation allows us to vary easily the function being used to describe the terms in the sum,
      and to adjust the number of terms in the sum simply by changing the value of <m>n</m>.
      We test our understanding of this new notation in the following example.
    </p>

<example xml:id="act-4-2-1" permid="chk">
  <statement>
    <p permid="SNy">
      For each sum written in sigma notation,
      write the sum long-hand and evaluate the sum to find its value.
      For each sum written in expanded form,
      write the sum in sigma notation.

      <ol label="a." cols="2" permid="IJS">
        <li permid="oRb">
          <p permid="HEz">
            <m>\sum_{k=1}^{5} (k^2 + 2)</m>
          </p>
        </li>

        <li permid="UYk">
          <p permid="nLI">
            <m>\sum_{i=3}^{6} (2i-1)</m>
          </p>
        </li>

        <li permid="Bft">
          <p permid="TSR">
            <m>3 + 7 + 11 + 15 + \cdots + 27</m>
          </p>
        </li>

        <li permid="hmC">
          <p permid="Aaa">
            <m>4 + 8 + 16 + 32 + \cdots + 256</m>
          </p>
        </li>

        <li permid="NtL">
          <p permid="ghj">
            <m>\sum_{i=1}^{6} \frac{1}{2^i}</m>
          </p>
        </li>
      </ol>
    </p>
  </statement>
  <hint permid="khi">
    <p permid="mGp">
      <ol label="a." permid="cCJ">
        <li permid="tAU">
          <p permid="Mos">
            Observe that when <m>k = 1</m>,
            <m>k^2 + 2 = 1^2 + 2 = 3</m>.
            This is the first term in the sum.
          </p>
        </li>

        <li permid="ZId">
          <p permid="svB">
            Note that this sum starts at <m>i = 3</m>.
          </p>
        </li>

        <li permid="FPm">
          <p permid="YCK">
            Since the terms in the sum increase by 4, try a function <m>f(k)</m> that somehow involves <m>4k</m>.
          </p>
        </li>

        <li permid="lWv">
          <p permid="EJT">
            What pattern do you observe in the terms of the sum?
          </p>
        </li>

        <li permid="SdE">
          <p permid="kRc">
            Write every term in the sum as a fraction with denominator <m>2^6 = 64</m>.
          </p>
        </li>
      </ol>
    </p>
  </hint>
  <answer permid="DZZ">
    <p permid="Gzg">
      <ol label="a." permid="wvA">
        <li permid="ykN">
          <p permid="QYl">
            <m>64 </m>
          </p>
        </li>

        <li permid="erW">
          <p permid="xfu">
            <m>32 </m>
          </p>
        </li>

        <li permid="Kzf">
          <p permid="dmD">
            <me permid="yUH">
              3 + 7 + 11 + 15 +  \cdots + 27 = \sum_{k=1}^{7} 4k-1
            </me>.
          </p>
        </li>

        <li permid="qGo">
          <p permid="JtM">
            <me permid="fbQ">
              4 + 8 + 16 + 32 + \cdots + 256 = \sum{i=2}^{8} 2^i
            </me>.
          </p>
        </li>

        <li permid="WNx">
          <p permid="pAV">
            <me permid="LiZ">
              \sum_{i=1}^{6} \frac{1}{2^i} =  \frac{63}{64}
            </me>.
          </p>
        </li>
      </ol>
    </p>
  </answer>
  <solution permid="XSQ">
    <p permid="arX">
      <ol label="a." permid="Qor">
        <li permid="CUG">
          <p permid="VIe">
            <md permid="rqi">
              <mrow>\sum_{k=1}^{5} (k^2 + 2) =\mathstrut \amp  (1^2 + 2) + (2^2 + 2) + (3^2 + 2) + (4^2 + 2) + (5^2 + 2)</mrow>
              <mrow>=\mathstrut \amp  3 + 6 + 11 + 17 + 27</mrow>
              <mrow>=\mathstrut \amp  64</mrow>
            </md>
          </p>
        </li>

        <li permid="jbP">
          <p permid="BPn">
            <md permid="Xxr">
              <mrow>\sum_{i=3}^{6} (2i-1) =\mathstrut \amp  (2 \cdot 3 - 1) + (2 \cdot 4- 1) + (2 \cdot 5 - 1) + (2 \cdot 6 - 1)</mrow>
              <mrow>=\mathstrut \amp  5 + 7 + 9 + 11</mrow>
              <mrow>=\mathstrut \amp  32</mrow>
            </md>
          </p>
        </li>

        <li permid="PiY">
          <p permid="hWw">
            Observe that each term in the sum
            <me permid="DEA">
              3 + 7 + 11 + 15 +  \cdots + 27
            </me>
            differs from the previous term by 4.
            If we view <m>4</m> as
            <m>4 = 4 \cdot 1 - 1</m> and <m>7</m> as <m>7 = 4 \cdot 2 - 1</m>,
            we see that the pattern may be represented through the function <m>f(k) = 4k-1</m>, so that
            <me permid="jLJ">
              3 + 7 + 11 + 15 +  \cdots + 27 = \sum_{k=1}^{7} 4k-1
            </me>.
            We note that <m>k=7</m> is the end value of the index since <m>4 \cdot 7  = 28</m>.
          </p>
        </li>

        <li permid="vqh">
          <p permid="OdF">
            The sum <m>4 + 8 + 16 + 32 + \cdots + 256</m> is a sum of powers of <m>2</m>,
            which we can express in sigma notation as
            <me permid="PSS">
              4 + 8 + 16 + 32 + \cdots + 256 = \sum{i=2}^{8} 2^i
            </me>.
          </p>
        </li>

        <li permid="bxq">
          <p permid="ukO">
            <md permid="wab">
              <mrow>\sum_{i=1}^{6} \frac{1}{2^i} =\mathstrut \amp  \frac{1}{2} + \frac{1}{2^2} + \cdots + \frac{1}{2^6}</mrow>
              <mrow>=\mathstrut \amp  \frac{32}{64} + \frac{16}{64} + \frac{8}{64} + \frac{4}{64} + \frac{2}{64} + \frac{1}{64}</mrow>
              <mrow>=\mathstrut \amp  \frac{63}{64}</mrow>
            </md>.
          </p>
        </li>
      </ol>
    </p>
  </solution>
</example>
  </subsection>

  <subsection permid="PJS">
    <title>Riemann Sums</title>
    <p permid="rRc">
      When a moving body has a positive velocity function
      <m>y = v(t)</m> on a given interval <m>[a,b]</m>,
      the area under the curve over the interval gives the total distance the body travels on <m>[a,b]</m>.
      We are also interested in finding the exact area bounded by
      <m>y = f(x)</m> on an interval <m>[a,b]</m>,
      regardless of the meaning or context of the function <m>f</m>.
      For now, we continue to focus on finding an accurate estimate of this area by using a sum of the areas of rectangles.
      Unless otherwise indicated,
      we assume that <m>f</m> is continuous and non-negative on <m>[a,b]</m>.
    </p>

    <p permid="XYl">
      The first choice we make in such an approximation is the number of rectangles.
    </p>

    <figure xml:id="F-4-2-Interval" permid="SiZ">
      <caption>Subdividing the interval <m>[a,b]</m> into <m>n</m> subintervals of equal length <m>\Delta x</m>.</caption>
      <image width="80%" source="images/4_2_Interval" />
    </figure>

    <p permid="Efu">
      If we desire <m>n</m> rectangles of equal width to subdivide the interval <m>[a,b]</m>,
      then each rectangle must have width <m>\Delta x = \frac{b-a}{n}</m>.
      We let <m>x_0 = a</m>, <m>x_n = b</m>,
      and define <m>x_{i} = a + i\Delta x</m>,
      so that <m>x_1 = x_0 + \Delta x</m>,
      <m>x_2 = x_0 + 2 \Delta x</m>,
      and so on, as pictured in <xref ref="F-4-2-Interval">Figure</xref>.
    </p>

    <p permid="kmD">
      We use each subinterval <m>[x_i, x_{i+1}]</m> as the base of a rectangle,
      and next choose the height of the rectangle on that subinterval.
      There are three standard choices: we can
      use the left endpoint of each subinterval,
      the right endpoint of each subinterval, or the midpoint of each.
      These are precisely the options encountered in <xref ref="PA-4-2">Example</xref>
      and seen in <xref ref="F-4-2-PA1">Figure</xref>.
      We next explore how these choices can be described in sigma notation.
    </p>

    <p permid="QtM">
      Consider an arbitrary positive function <m>f</m> on <m>[a,b]</m> with the interval subdivided as shown in <xref ref="F-4-2-Interval">Figure</xref>,
      and choose to use left endpoints.
      Then on each interval <m>[x_{i}, x_{i+1}]</m>,
      the area of the rectangle formed is given by
      <me permid="YIf">
        A_{i+1} = f(x_i) \cdot \Delta x
      </me>,
      as seen in <xref ref="F-4-2-LeftSum">Figure</xref>.
    </p>

    <figure xml:id="F-4-2-LeftSum" permid="yqi">
      <caption>Subdividing the interval <m>[a,b]</m> into <m>n</m> subintervals of equal length <m>\Delta x</m> and approximating the area under <m>y = f(x)</m> over <m>[a,b]</m> using left rectangles.</caption>
      <image width="73%" source="images/4_2_LeftSum" />
    </figure>

    <p permid="wAV">
      If we let <m>L_n</m> denote the sum of the areas of these rectangles,
      we see that
      <md permid="kWx">
        <mrow>L_n =\mathstrut \amp  A_1 + A_2 + \cdots + A_{i+1} + \cdots + A_n</mrow>
        <mrow>=\mathstrut \amp  f(x_0) \cdot \Delta x + f(x_1) \cdot \Delta x + \cdots + f(x_i) \cdot \Delta x + \cdots + f(x_{n-1}) \cdot \Delta x</mrow>
      </md>.
      In the more compact sigma notation, we have
      <me permid="EPo">
        L_n = \sum_{i = 0}^{n-1} f(x_i) \Delta x
      </me>.
    </p>

    <p permid="cIe">
      Note that since the index of summation begins at <m>0</m> and ends at <m>n-1</m>,
      there are indeed <m>n</m> terms in this sum.
      We call <m>L_n</m> the <em>left Riemann sum</em>
          <idx><h>Riemann sum</h></idx>
          <idx><h>Riemann sum</h><h>left</h></idx>
      for the function <m>f</m> on the interval <m>[a,b]</m>.
    </p>

    <p permid="IPn">
      To see how the Riemann sums for right endpoints and midpoints are constructed,
      we consider <xref ref="F-4-2-RightMidSum">Figure</xref>.
    </p>

    <figure xml:id="F-4-2-RightMidSum" permid="exr">
      <caption>Riemann sums using right endpoints and midpoints.</caption>
      <image width="100%" source="images/4_2_RightMidSum" />
    </figure>

    <p permid="oWw">
      For the sum with right endpoints,
      we see that the area of the rectangle on an arbitrary interval
      <m>[x_i, x_{i+1}]</m> is given by <m>B_{i+1} = f(x_{i+1}) \cdot \Delta x</m>,
      and that the sum of all such areas of rectangles is given by
      <md permid="RdG">
        <mrow>R_n =\mathstrut \amp  B_1 + B_2 + \cdots + B_{i+1} + \cdots + B_n</mrow>
        <mrow>=\mathstrut \amp  f(x_1) \cdot \Delta x + f(x_2) \cdot \Delta x + \cdots + f(x_{i+1}) \cdot \Delta x + \cdots + f(x_{n}) \cdot \Delta x</mrow>
        <mrow>=\mathstrut \amp  \sum_{i=1}^{n} f(x_i) \Delta x</mrow>
      </md>.
    </p>

    <p permid="VdF">
      We call <m>R_n</m> the <em>right Riemann sum</em>
          <idx><h>Riemann sum</h><h>right</h></idx>
      for the function <m>f</m> on the interval <m>[a,b]</m>.
    </p>

    <p permid="BkO">
      For the sum that uses midpoints, we introduce the notation
      <me permid="xkP">
        \overline{x}_{i+1} = \frac{x_{i} + x_{i+1}}{2}
      </me>
      so that <m>\overline{x}_{i+1}</m> is the midpoint of the interval <m>[x_i, x_{i+1}]</m>.
      For instance,
      for the rectangle with area <m>C_1</m> in <xref ref="F-4-2-RightMidSum">Figure</xref>,
      we now have
      <me permid="drY">
        C_1 = f(\overline{x}_1) \cdot \Delta x
      </me>.
    </p>

    <p permid="hrX">
      Hence, the sum of all the areas of rectangles that use midpoints is
      <md permid="Jzh">
        <mrow>M_n =\mathstrut \amp  C_1 + C_2 + \cdots + C_{i+1} + \cdots + C_n</mrow>
        <mrow>=\mathstrut \amp  f(\overline{x_1}) \cdot \Delta x + f(\overline{x_2}) \cdot \Delta x + \cdots + f(\overline{x}_{i+1}) \cdot \Delta x + \cdots + f(\overline{x}_{n}) \cdot \Delta x</mrow>
        <mrow>=\mathstrut \amp  \sum_{i=1}^{n} f(\overline{x}_i) \Delta x</mrow>
      </md>,
      and we say that <m>M_n</m> is the
      <em>middle Riemann sum</em>
          <idx><h>Riemann sum</h><h>middle</h></idx>
      for <m>f</m> on <m>[a,b]</m>.
    </p>

    <p permid="Nzg">
      Thus, we have two variables to explore:
      the number of rectangles and the height of each rectangle.
      We can explore these choices dynamically,
      and the applet<fn>
      Marc Renault, Geogebra Calculus Applets.
      </fn> found at
      <url href="http://gvsu.edu/s/a9">http://gvsu.edu/s/a9</url>
      is a particularly useful one.
      There we see the image shown in <xref ref="F-4-2-RenaultAppletRS">Figure</xref>,
      but with the opportunity to adjust the slider bars for the heights and the number of rectangles.
    </p>

    <figure xml:id="F-4-2-RenaultAppletRS" permid="KEA">
      <caption>A snapshot of the applet found at <url href="http://gvsu.edu/s/a9">http://gvsu.edu/s/a9</url>.</caption>
      <image width="71%" source="images/4_2_RenaultAppletRS" />
    </figure>

    <p permid="tGp">
      By moving the sliders,
      we can see how the heights of the rectangles change as we consider left endpoints,
      midpoints, and right endpoints,
      as well as the impact that a larger number of narrower rectangles has on the approximation of the exact area bounded by the function and the horizontal axis.
    </p>

    <p permid="ZNy">
      When <m>f(x) \ge 0</m> on <m>[a,b]</m>,
      each of the Riemann sums <m>L_n</m>, <m>R_n</m>,
      and <m>M_n</m> provides an estimate of the area under the curve
      <m>y = f(x)</m> over the interval <m>[a,b]</m>.
      We also recall that in the context of a nonnegative velocity function <m>y = v(t)</m>,
      the corresponding Riemann sums approximate the distance traveled on <m>[a,b]</m> by a moving object with velocity function <m>v</m>.
    </p>

    <p permid="FUH">
      There is a more general way to think of Riemann sums,
      and that is to allow any choice of where the function is evaluated to determine the rectangle heights.
      Rather than saying we'll always choose left endpoints,
      or always choose midpoints,
      we simply say that a point
      <m>x_{i+1}^*</m> will be selected at random in the interval <m>[x_i, x_{i+1}]</m>
      (so that <m>x_i \le x_{i+1}^* \le x_{i+1}</m>).
      The Riemann sum is then given by
      <me permid="pGq">
        f(x_1^*) \cdot \Delta x + f(x_2^*) \cdot \Delta x + \cdots + f(x_{i+1}^*) \cdot \Delta x + \cdots + f(x_n^*) \cdot \Delta x = \sum_{i=1}^{n} f(x_i^*) \Delta x
      </me>.
    </p>

    <p permid="mbQ">
      At <url href="http://gvsu.edu/s/a9">http://gvsu.edu/s/a9</url>,
      the applet noted earlier and referenced in <xref ref="F-4-2-RenaultAppletRS">Figure</xref>,
      by unchecking the <q>relative</q> box at the top left,
      and instead checking <q>random,</q>
      we can easily explore the effect of using random point locations in subintervals on a Riemann sum.
      In computational practice, we most often use <m>L_n</m>,
      <m>R_n</m>, or <m>M_n</m>,
      while the random Riemann sum is useful in theoretical discussions.
      In the following example,
      we investigate several different Riemann sums for a particular velocity function.
    </p>

<example xml:id="act-4-2-2" permid="KNA">
  <statement>
    <p permid="GdH">
      Suppose that an object moving along a straight line path has its velocity in feet per second at time <m>t</m> in seconds given by <m>v(t) = \frac{2}{9}(t-3)^2 + 2</m>.

      <ol label="a." permid="tfv">
        <li permid="ZmE">
          <p permid="Txs">
            Carefully sketch the region whose exact area will tell you the value of the distance the object traveled on the time interval <m>2 \le t \le 5</m>.
          </p>
        </li>

        <li permid="FtN">
          <p permid="zEB">
            Estimate the distance traveled on <m>[2,5]</m> by computing <m>L_4</m>,
            <m>R_4</m>, and <m>M_4</m>.
          </p>
        </li>

        <li permid="lAW">
          <p permid="fLK">
            Does averaging <m>L_4</m> and <m>R_4</m> result in the same value as <m>M_4</m>?
            If not,
            what do you think the average of <m>L_4</m> and <m>R_4</m> measures?
          </p>
        </li>

        <li permid="RIf">
          <p permid="LST">
            For this question, think about an arbitrary function <m>f</m>,
            rather than the particular function <m>v</m> given above.
            If <m>f</m> is positive and increasing on <m>[a,b]</m>,
            will <m>L_n</m> over-estimate or under-estimate the exact area under <m>f</m> on <m>[a,b]</m>?
            Will <m>R_n</m> over- or under-estimate the exact area under <m>f</m> on <m>[a,b]</m>?
            Explain.
          </p>
        </li>
      </ol>
    </p>
  </statement>
  <hint permid="UCL">
    <p permid="ZWy">
      <ol label="a." permid="MYm">
        <li permid="xPo">
          <p permid="sac">
            Note that <m>y = v(t)</m> is a parabola with vertex <m>(3,2)</m>.
          </p>
        </li>

        <li permid="dWx">
          <p permid="Yhl">
            Recall the formulas for <m>L_n</m>,
            <m>R_n</m>, and <m>M_n</m>.
          </p>
        </li>

        <li permid="KdG">
          <p permid="Eou">
            Think about what the average of <m>L_1</m> and <m>R_1</m> measures.
          </p>
        </li>

        <li permid="qkP">
          <p permid="kvD">
            Consider carefully the role of endpoints in generating <m>L_n</m> and <m>R_n</m>.
          </p>
        </li>
      </ol>
    </p>
  </hint>
  <answer permid="ovC">
    <p permid="tPp">
      <ol label="a." permid="gRd">
        <li permid="WrY">

          <sidebyside width="40%" permid="yzi">
            <image source="images/4_2_Act2Soln" />
          </sidebyside>

        </li>

        <li permid="Czh">
          <p permid="QCM">
            <m>L_4 = \frac{311}{48} \approx 6.47917</m>,
            <m>R_4 = \frac{335}{48} \approx 6.97917</m>,
            and <m>M_4 = \frac{637}{96} \approx 6.63542</m>.
          </p>
        </li>

        <li permid="iGq">
          <p permid="wJV">
            <me permid="mkQ">
              \frac{L_4 + M_4}{2} = \frac{646}{96} \ne \frac{637}{96} = M_4
            </me>.
          </p>
        </li>

        <li permid="ONz">
          <p permid="cRe">
            <m>L_n</m> is an under-estimate;
            <m>R_n</m> is an over-estimates.
          </p>
        </li>
      </ol>
    </p>
  </answer>
  <solution permid="Iot">
    <p permid="hAX">
      <ol label="a." permid="AJU">
        <li permid="uUI">
          <p permid="IYn">
            The region whose exact area tells us the value of the distance the object traveled on the time interval <m>2 \le t \le 5</m> is shown below.
          </p>

          <sidebyside width="40%" permid="eGr">
            <image source="images/4_2_Act2Soln" />
          </sidebyside>

        </li>

        <li permid="bbR">
          <p permid="pfw">
            <m>L_4 = \frac{311}{48} \approx 6.47917</m>,
            <m>R_4 = \frac{335}{48} \approx 6.97917</m>,
            and <m>M_4 = \frac{637}{96} \approx 6.63542</m>.
          </p>
        </li>

        <li permid="Hja">
          <p permid="VmF">
            The average of <m>L_4</m> and <m>R_4</m> is
            <me permid="SrZ">
              \frac{L_4 + M_4}{2} = \frac{311+335}{96} = \frac{646}{96} \ne \frac{637}{96} = M_4
            </me>.
            This average actually measures what would result from using four trapezoids,
            rather than rectangles,
            to estimate the area on each subinterval.
            One reason this is so is because the area of a trapezoid is the average of the bases times the width,
            and the <q>bases</q>
            are given by the function values at the left and right endpoints.
          </p>
        </li>

        <li permid="nqj">
          <p permid="BtO">
            If <m>f</m> is positive and increasing on <m>[a,b]</m>,
            <m>L_n</m> will under-estimate the exact area under <m>f</m> on <m>[a,b]</m>.
            Because <m>f</m> is increasing,
            its value at the left endpoint of any subinterval will be lower than every other function value in the interval,
            and thus the rectangle with that height lies exclusively below the curve.
            In a similar way,
            <m>R_n</m> over-estimates the exact area under <m>f</m> on <m>[a,b]</m>.
          </p>
        </li>
      </ol>
    </p>
  </solution>
</example>
  </subsection>

  <subsection permid="vRb">
    <title>When the function is sometimes negative</title>
    <p permid="qLJ">
      For a Riemann sum such as
      <me permid="VNz">
        L_n = \sum_{i=0}^{n-1} f(x_i) \Delta x
      </me>,
      we can of course compute the sum even when <m>f</m> takes on negative values.
      We know that when <m>f</m> is positive on <m>[a,b]</m>,
      a Riemann sum estimates the area bounded between <m>f</m> and the horizontal axis over the interval.
    </p>

    <figure xml:id="F-4-2-NegF" permid="bCL">
      <caption>At left and center, two left Riemann sums for a function <m>f</m> that is sometimes negative; at right, the areas bounded by <m>f</m> on the interval <m>[a,d]</m>.</caption>
      <image width="100%" source="images/4_2_NegF" />
    </figure>

    <p permid="WSS">
      For the function pictured in the first graph of <xref ref="F-4-2-NegF">Figure</xref>,
      a left Riemann sum with 12 subintervals over <m>[a,d]</m> is shown.
      The function is negative on the interval <m>b \le x \le c</m>,
      so at the four left endpoints that fall in <m>[b,c]</m>,
      the terms <m>f(x_i) \Delta x</m> are negative.
      This means that those four terms in the Riemann sum produce an estimate of the <em>opposite</em>
      of the area bounded by <m>y = f(x)</m> and the <m>x</m>-axis on <m>[b,c]</m>.
    </p>

    <p permid="Dab">
      In the middle graph of <xref ref="F-4-2-NegF">Figure</xref>,
      we see that by increasing the number of rectangles the approximation of the area
      (or the opposite of the area)
      bounded by the curve appears to improve.
    </p>

    <p permid="jhk">
      In general,
      any Riemann sum of a continuous function <m>f</m> on an interval <m>[a,b]</m> approximates the difference between the area that lies above the horizontal axis on <m>[a,b]</m> and under <m>f</m> and the area that lies below the horizontal axis on <m>[a,b]</m> and above <m>f</m>.
      In the notation of <xref ref="F-4-2-NegF">Figure</xref>,
      we may say that
      <me permid="BUI">
        L_{24} \approx A_1 - A_2 + A_3
      </me>,
      where <m>L_{24}</m> is the left Riemann sum using 24 subintervals shown in the middle graph.
      <m>A_1</m> and <m>A_3</m> are the areas of the regions where <m>f</m> is positive,
      and <m>A_2</m> is the area where <m>f</m> is negative.
      We will call the quantity <m>A_1 - A_2 + A_3</m> the
      <em>net signed area</em>
          <idx><h>net signed area</h></idx>
      bounded by <m>f</m> over the interval <m>[a,d]</m>,
      where by the phrase <q>signed area</q>
      we indicate that we are attaching a minus sign to the areas of regions that fall below the horizontal axis.
    </p>

    <p permid="vvC">
      Finally, we recall that if the function <m>f</m> represents the velocity of a moving object,
      the sum of the areas bounded by the curve tells us the total distance traveled over the relevant time interval,
      while the net signed area bounded by the curve computes the object's change in position on the interval.
    </p>

<example xml:id="act-4-2-3" permid="ZAZ">
  <statement>
    <p permid="oJX">
      Suppose that an object moving along a straight line path has its velocity <m>v</m>
      (in feet per second)
      at time <m>t</m>
      (in seconds)
      given by
      <me permid="URg">
        v(t) = \frac{1}{2}t^2 - 3t + \frac{7}{2}
      </me>.
      <ol label="a." permid="bLL">
        <li permid="HSU">
          <p permid="CdI">
            Compute <m>M_5</m>, the middle Riemann sum,
            for <m>v</m> on the time interval <m>[1,5]</m>.
            Be sure to clearly identify the value of
            <m>\Delta t</m> as well as the locations of <m>t_0</m>,
            <m>t_1</m>,
            <m>\cdots</m>, <m>t_5</m>.
            In addition,
            provide a careful sketch of the function and the corresponding rectangles that are being used in the sum.
          </p>
        </li>

        <li permid="oad">
          <p permid="ikR">
            Building on your work in (a),
            estimate the total change in position of the object on the interval <m>[1,5]</m>.
          </p>
        </li>

        <li permid="Uhm">
          <p permid="Osa">
            Building on your work in (a) and (b),
            estimate the total distance traveled by the object on <m>[1,5]</m>.
          </p>
        </li>

        <li permid="Aov">
          <p permid="uzj">
            Use appropriate computing technology<fn>
            For instance,
            consider the applet at
            <url href="http://gvsu.edu/s/a9">http://gvsu.edu/s/a9</url>
            and change the function and adjust the locations of the blue points that represent the interval endpoints <m>a</m> and <m>b</m>.
            </fn> to compute <m>M_{10}</m> and <m>M_{20}</m>.
            What exact value do you think the middle sum eventually approaches as <m>n</m> increases without bound?
            What does that number represent in the physical context of the overall problem?
          </p>
        </li>
      </ol>
    </p>
  </statement>
  <hint permid="Djb">
    <p permid="ICO">
      <ol label="a." permid="vEC">
        <li permid="gvE">
          <p permid="aGs">
            Note that <m>\Delta t = \frac{5-1}{5}</m>.
          </p>
        </li>

        <li permid="MCN">
          <p permid="GNB">
            Change in position is tied to the net signed area bounded by the velocity function.
          </p>
        </li>

        <li permid="sJW">
          <p permid="mUK">
            Think about how total distance is different from change in position when the velocity is sometimes negative.
          </p>
        </li>

        <li permid="YRf">
          <p permid="TbT">
            Besides the noted applet,
            computer algebra systems such as <em>Maple</em>
            and <em>Mathematica</em> offer this utility.
          </p>
        </li>
      </ol>
    </p>
  </hint>
  <answer permid="XbS">
    <p permid="cvF">
      <ol label="a." permid="Pxt">
        <li permid="EYo">
          <p permid="zjc">
            <m>M_5 = -\frac{36}{25} = -1.44</m>
          </p>

          <sidebyside width="60%" permid="NmH">
            <image source="images/4_2_Act3Soln" />
          </sidebyside>

        </li>

        <li permid="lfx">
          <p permid="fql">
            The change in position is approximately <m>-1.44</m> feet.
          </p>
        </li>

        <li permid="RmG">
          <p permid="Lxu">
            <m>D \approx 2.336</m>.
          </p>
        </li>

        <li permid="xtP">
          <p permid="rED">
            <m>-\frac{4}{3}</m> is the object's total change in position on <m>[1,5]</m>.
          </p>
        </li>
      </ol>
    </p>
  </answer>
  <solution permid="qUJ">
    <p permid="wow">
      <ol label="a." permid="jqk">
        <li permid="dAY">
          <p permid="XLM">
            For this Riemann sum with five subintervals,
            <m>\Delta t = \frac{5-1}{5} = \frac{4}{5}</m>,
            so <m>t_0 = 1</m>, <m>t_1 = 1.8</m>, <m>t_2 = 2.6</m>,
            <m>t_3 = 3.4</m>, <m>t_4 = 4.2</m> and <m>t_5 = 4</m>.
            It follows that
            <md permid="AYp">
              <mrow>M_5 =\mathstrut \amp  v(1.4) \Delta t + v(2.2) \Delta t + v(3.0) \Delta t + v(3.8) \Delta t + v(4.6)</mrow>
              <mrow>=\mathstrut \amp  \frac{7}{25} \cdot \frac{4}{5} - \frac{17}{25} \cdot \frac{4}{5} - 1 \cdot \frac{4}{5} - \frac{17}{25} \cdot \frac{4}{5} +  \frac{7}{25} \cdot \frac{4}{5}</mrow>
              <mrow>=\mathstrut \amp  -\frac{36}{25} = -1.44</mrow>
            </md>
            A sketch is shown below.
          </p>

          <sidebyside width="60%" permid="ttQ">
            <image source="images/4_2_Act3Soln" />
          </sidebyside>

        </li>

        <li permid="JIh">
          <p permid="DSV">
            Since the net signed area bounded by <m>v</m> on <m>[1,5]</m> represents the total change in position of the object on the interval <m>[1,5]</m>,
            it follows that <m>M_5</m> estimates the total change in position.
            Hence,
            the change in position is approximately <m>-1.44</m> feet.
          </p>
        </li>

        <li permid="pPq">
          <p permid="kae">
            To estimate the total distance traveled by the object on <m>[1,5]</m>,
            we have to calculate the total area between the curve and the <m>t</m>-axis.
            Thus,
            <me permid="hfy">
              D \approx \frac{7}{25} \cdot \frac{4}{5} + \frac{17}{25} \cdot \frac{4}{5} + 1 \cdot \frac{4}{5} + \frac{17}{25} \cdot \frac{4}{5} +  \frac{7}{25} \cdot \frac{4}{5} = \frac{292}{125} \approx 2.336
            </me>.
          </p>
        </li>

        <li permid="VWz">
          <p permid="Qhn">
            Using appropriate technology,
            <m>M_{10} = -1.36</m> and <m>M_{20} = -1.34</m>.
            Further calculations suggest that
            <m>M_n \to -\frac{4}{3} = -1.\overline{33}</m> as <m>n \to \infty</m>,
            and this number represents the object's total change in position on <m>[1,5]</m>.
          </p>
        </li>
      </ol>
    </p>
  </solution>
</example>
  </subsection>

  <subsection permid="bYk">
    <title>Summary</title>
    <p permid="HJU">
      <ul permid="gId">
        <li permid="FkN">
          <p permid="qbP">
            A Riemann sum is simply a sum of products of the form
            <m>f(x_i^*) \Delta x</m> that estimates the area between a positive function and the horizontal axis over a given interval.
            If the function is sometimes negative on the interval,
            the Riemann sum estimates the difference between the areas that lie above the horizontal axis and those that lie below the axis.
          </p>
        </li>

        <li permid="lrW">
          <p permid="WiY">
            The three most common types of Riemann sums are left, right,
            and middle sums,
            but we can also work with a more general Riemann sum.
            The only difference among these sums is the location of the point at which the function is evaluated to determine the height of the rectangle whose area is being computed.
            For a left Riemann sum,
            we evaluate the function at the left endpoint of each subinterval,
            while for right and middle sums,
            we use right endpoints and midpoints, respectively.
          </p>
        </li>

        <li permid="Rzf">
          <p permid="Cqh">
            The left,
            right, and middle Riemann sums are denoted <m>L_n</m>,
            <m>R_n</m>, and <m>M_n</m>, with formulas
            <md permid="ibR">
              <mrow>L_n = f(x_0) \Delta x + f(x_1) \Delta x + \cdots + f(x_{n-1}) \Delta x \amp= \sum_{i = 0}^{n-1} f(x_i) \Delta x,</mrow>
              <mrow>R_n = f(x_1) \Delta x + f(x_2) \Delta x + \cdots + f(x_{n}) \Delta x \amp= \sum_{i = 1}^{n} f(x_i) \Delta x,</mrow>
              <mrow>M_n = f(\overline{x}_1) \Delta x + f(\overline{x}_2) \Delta x + \cdots + f(\overline{x}_{n}) \Delta x \amp= \sum_{i = 1}^{n} f(\overline{x}_i) \Delta x</mrow>
            </md>,
            where <m>x_0 = a</m>, <m>x_i = a + i\Delta x</m>,
            and <m>x_n = b</m>, using <m>\Delta x = \frac{b-a}{n}</m>.
            For the midpoint sum, <m>\overline{x}_{i} = \frac{x_{i-1} + x_i}{2}</m>.
          </p>
        </li>
      </ul>
    </p>
  </subsection>

<exercises xmlns:xi="http://www.w3.org/2001/XInclude"> 

  <exercise xml:id="ez-4-2-WW1" permid="aBs">
    <title>Evaluating Riemann sums for a quadratic function</title>
    <webwork source="Library/Rochester/setIntegrals0Theory/S05.01.AreaDistance.PTP00.pg" />
  </exercise>

  <exercise xml:id="ez-4-2-WW2" permid="GIB">
    <title>Estimating distance traveled with a Riemann sum from data</title>
    <webwork source="Library/Rochester/setIntegrals0Theory/S05.01.AreaDistance.PTP03.pg" />
  </exercise>

  <exercise xml:id="ez-4-2-WW3" permid="mPK">
    <title>Writing basic Riemann sums</title>
    <webwork source="Library/Michigan/Chap5Sec2/Q19.pg" />
  </exercise>
  <!--  WeBWorK exercise not compatible with PTX  -->
  <!--
  <exercise xml:id="ez-4-2-WW4">
    <webwork source="Library/FortLewis/Calc1/05-02-Definite-integral/HGM5-05-02-Definite-integral-25a.pg" />
  </exercise>
  <exercise xml:id="ez-4-2-WW5">
    <webwork source="Library/FortLewis/Calc1/05-02-Definite-integral/HGM5-05-02-Definite-integral-25b.pg" />
  </exercise>
  -->
  <exercise permid="SWT">
   <title>Using the Middle Riemann sum</title>
    <statement>
      <p permid="kTt">
        Consider the function <m>f(x) = 3x + 4</m>.

        <ol label="a." permid="lKr">
          <li permid="Knb">
            <p permid="sTr">
              Compute <m>M_4</m> for <m>y=f(x)</m> on the interval <m>[2,5]</m>.
              Be sure to clearly identify the value of <m>\Delta x</m>,
              as well as the locations of <m>x_0, x_1, \ldots, x_4</m>.
              Include a careful sketch of the function and the corresponding rectangles being used in the sum.
            </p>
          </li>

          <li permid="quk">
            <p permid="ZaA">
              Use a familiar geometric formula to determine the exact value of the area of the region bounded by
              <m>y = f(x)</m> and the <m>x</m>-axis on <m>[2,5]</m>.
            </p>
          </li>

          <li permid="WBt">
            <p permid="FhJ">
              Explain why the values you computed in (a) and (b) turn out to be the same.
              Will this be true if we use a number different than <m>n = 4</m> and compute <m>M_n</m>?
              Will <m>L_4</m> or <m>R_4</m> have the same value as the exact area of the region found in (b)?
            </p>
          </li>

          <li permid="CIC">
            <p permid="loS">
              Describe the collection of functions <m>g</m> for which it will always be the case that <m>M_n</m>,
              regardless of the value of <m>n</m>,
              gives the exact net signed area bounded between the function <m>g</m> and the <m>x</m>-axis on the interval <m>[a,b]</m>.
            </p>
          </li>
        </ol>
      </p>
    </statement>
    <answer permid="XGM">
      <p permid="MqJ">
        <ol label="a." permid="NhH">
          <li permid="iPL">
            <p permid="Rwb">
              <m>M_4 = 43.5</m>.
            </p>

            <sidebyside width="50%" permid="RhG">
              <image source="images/4_2_Ez1Soln" />
            </sidebyside>

          </li>

          <li permid="OWU">
            <p permid="xDk">
              <m>
              A = \frac{87}{2}</m>.
            </p>
          </li>

          <li permid="ved">
            <p permid="dKt">
              The rectangles with heights that come from the midpoint have the same area as the trapezoids that are formed by the function values at the two endpoints of each subinterval.
            </p>

            <sidebyside width="50%" permid="xoP">
              <image source="images/4_2_Ez1Solnc" />
            </sidebyside>

            <p permid="JRC">
              <m>M_n</m> will give the exact area for any value of <m>n</m>.
              Neither <m>L_n</m> nor <m>R_n</m> will be exact for any <m>n</m>.
            </p>
          </li>

          <li permid="blm">
            <p permid="pYL">
              For any linear function <m>g</m> of the form <m>g(x) = mx + b</m> such that
              <m>g(x) \ge 0</m> on the interval of interest.
            </p>
          </li>
        </ol>
      </p>
    </answer>
    <solution permid="rzD">
      <p permid="nNZ">
        <ol label="a." permid="oEX">
          <li permid="Hsv">
            <p permid="WfU">
              Since we are using <m>4</m> subintervals on <m>[2,5]</m>,
              it follows that <m>\triangle x = \frac{5-2}{4} = 0.75</m>.
              Thus, <m>x_0 = 2</m>, <m>x_1 = 2.75</m>,
              <m>x_2 = 3.5</m>, <m>x_3 = 4.25</m>, and <m>x_4 = 5</m>.
              The midpoints of the respective subintervals are thus <m>\overline{x_1} = \frac{2+2.75}{2} = 2.375</m>,
              <m>\overline{x_2} = 3.125</m>,
              <m>\overline{x_3} = 3.875</m>,
              and <m>\overline{x_4} = 4.625</m>.
              Thus,
              <md permid="BRE">
                <mrow>M_4 &amp;= f(\overline{x_1}) \cdot \triangle x + f(\overline{x_2}) \cdot \triangle x + f(\overline{x_3}) \cdot \triangle x + f(\overline{x_4}) \cdot \triangle x</mrow>
                <mrow>&amp;= \left(f(2.375) + f(3.125) + f(3.875) + f(4.625) \right) \cdot (0.75)</mrow>
                <mrow>&amp;= \left(11.125 + 13.375 + 15.625 + 17.875 \right) \cdot (0.75)</mrow>
                <mrow>&amp;= 58 \cdot 0.75</mrow>
                <mrow>&amp;= 43.5</mrow>
              </md>
              An overall sketch of the key parts of <m>M_4</m> is seen in the figure below.
            </p>

            <sidebyside width="50%" permid="dvY">
              <image source="images/4_2_Ez1Soln" />
            </sidebyside>

          </li>

          <li permid="nzE">
            <p permid="Cnd">
              Observe that <m>f(2) = 10</m> and <m>f(5) = 19</m>.
              The region bounded by the function,
              the <m>x</m>-axis, and the endpoints is a trapezoid.
              Recalling that the area of a trapezoid is the average of the bases times the height,
              we see that the bounded region has area
              <me permid="hYN">
                A = \frac{1}{2}(10 + 19)(5-2) = \frac{87}{2}
              </me>.
            </p>
          </li>

          <li permid="TGN">
            <p permid="ium">
              The reason that <m>M_4</m> gives the exact area between the line and the <m>x</m>-axis is the rectangles with heights that come from the midpoint have the same area as the trapezoids that are formed by the function values at the two endpoints of each subinterval.
              We can also see this by observing that the ``extra area'' bounded by the midpoint rectangle exactly matches the ``missing area'' that is absent from the midpoint rectangle,
              as seen in the following figure.
              Since these two quantities balance out,
              the areas of the midpoint rectangles give us the exact area under the curve.
            </p>

            <sidebyside width="50%" permid="JDh">
              <image source="images/4_2_Ez1Solnc" />
            </sidebyside>

            <p permid="OBv">
              Indeed, the value of <m>M_n</m> will give the exact area under <m>g</m> on <m>[2,5]</m> for any value of <m>n</m>.
              But neither <m>L_n</m> nor <m>R_n</m> will be exact:
              <m>L_n</m> will underestimate the true area since every rectangle will lie completely under the function <m>g</m>,
              whereas <m>R_n</m> will overestimate because every rectangle lies above the function.
            </p>
          </li>

          <li permid="zNW">
            <p permid="uIE">
              For any linear function <m>g</m> of the form <m>g(x) = mx + b</m> such that
              <m>g(x) \ge 0</m> on the interval of interest,
              the midpoint rule will give the exact value of the area bounded by the function and the <m>x</m>-axis.
              This is true because the area of the trapezoid formed by the two endpoints on a given subinterval will be the same as the area of the rectangle whose height is given by the function at the midpoint of the subinterval.
            </p>
          </li>
        </ol>
      </p>
    </solution>
  </exercise>

  <exercise permid="zec">
   <title>Identifying and manipulating Riemann sum components</title>
    <statement>
      <p permid="RaC">
        Let <m>S</m> be the sum given by
        <me permid="OfW">
          S = ((1.4)^2 + 1) \cdot 0.4 + ((1.8)^2 + 1) \cdot 0.4 + ((2.2)^2 + 1) \cdot 0.4 + ((2.6)^2 + 1) \cdot 0.4
        </me>.
        <ol label="a." permid="RRA">
          <li permid="fVf">
            <p permid="aPN">
              Assume that <m>S</m> is a right Riemann sum.
              For what function <m>f</m> and what interval <m>[a,b]</m> is <m>S</m> this function's Riemann sum?
              Why?
            </p>
          </li>

          <li permid="Mco">
            <p permid="GWW">
              How does your answer to (a) change if <m>S</m> is a left Riemann sum? a middle Riemann sum?
            </p>
          </li>

          <li permid="sjx">
            <p permid="nef">
              Suppose that <m>S</m> really is a right Riemann sum.
              What is geometric quantity does <m>S</m> approximate?
            </p>
          </li>

          <li permid="YqG">
            <p permid="Tlo">
              Use sigma notation to write a new sum <m>R</m> that is the right Riemann sum for the same function,
              but that uses twice as many subintervals as <m>S</m>.
            </p>
          </li>
        </ol>
      </p>
    </statement>
    <answer permid="jVe">
      <p permid="sxS">
        <ol label="a." permid="toQ">
          <li permid="ExP">
            <p permid="zsx">
              <m>f(x) = x^2 + 1</m> on the interval <m>[1,3]</m>.
            </p>
          </li>

          <li permid="kEY">
            <p permid="fzG">
              If <m>S</m> is a left Riemann sum,
              <m>f(x) = x^2 + 1</m> on the interval <m>[1.4, 3.4]</m>.
              If <m>S</m> is a middle Riemann sum,
              <m>f(x) = x^2 + 1</m> on the interval <m>[1.2, 3.2]</m>.
            </p>
          </li>

          <li permid="QMh">
            <p permid="LGP">
              The area under <m>f(x) = x^2 + 1</m> on <m>[1,3]</m>.
            </p>
          </li>

          <li permid="wTq">
            <p permid="rNY">
              <m>
              R_{10} = \sum_{i=1}^{10} \left( (1+0.2i)^2 + 1 \right) \cdot 0.2</m>.
            </p>
          </li>
        </ol>
      </p>
    </answer>
    <solution permid="DNV">
      <p permid="TVi">
        <ol label="a." permid="UMg">
          <li permid="daz">
            <p permid="XVh">
              The function is being evaluated at <m>x_1 = 1.4</m>, <m>x_2 = 1.8</m>,
              <m>x_3 = 2.2</m>, <m>x_4 = 2.6</m>, and <m>x_5 = 3.0</m>.
              Thus, since we know this is a right Riemann sum,
              we are using <m>5</m> subintervals with
              <m>\triangle x = 0.4</m>, and <m>x_0 = 1.0</m>.
              From the pattern, we observe that the function must be
              <m>f(x) = x^2 + 1</m> on the interval <m>[1,3]</m>.
            </p>
          </li>

          <li permid="JhI">
            <p permid="Ecq">
              If <m>S</m> is a left Riemann sum instead,
              then the <m>x_i</m>'s shift left:
              <m>x_0 = 1.4</m>, <m>x_1 = 1.8</m>,
              <m>\ldots</m>, <m>x_5 = 3.4</m>.
              In this setting, the function is identical,
              but we are considering it on the interval <m>[1.4, 3.4]</m>.
            </p>

            <p permid="kjz">
              If <m>S</m> is a middle Riemann sum, then
              (for example)
              <m>1.4</m> is the midpoint of an interval <m>\triangle x = 0.4</m> units long,
              so <m>x_0 = 1.2</m> and <m>x_1 = 1.6</m>.
              Continuing that trend, we'd be considering the function
              <m>f(x) = x^2 + 1</m> on the interval <m>[1.2, 3.2]</m>.
            </p>
          </li>

          <li permid="poR">
            <p permid="QqI">
              <m>S</m> is an approximation of the area that lies under <m>f(x) = x^2 + 1</m> on <m>[1,3]</m>.
            </p>
          </li>

          <li permid="Vwa">
            <p permid="wxR">
              To use twice as many subintervals,
              we move to <m>\triangle x = 0.2</m> and thus <m>x_1 = 1.2</m>,
              <m>x_2 = 1.4</m>, and so on,
              with the general right endpoint being given by <m>x_i = 1 + 0.2 \cdot i</m>.
              We'll also have <m>n = 10</m>, so
              <me permid="unf">
                R_{10} = \sum_{i=1}^{10} \left( (1+0.2i)^2 + 1 \right) \cdot 0.2
              </me>.
            </p>
          </li>
        </ol>
      </p>
    </solution>
  </exercise>

  <exercise permid="fll">
   <title>Evaluating Riemann sums with data</title>
    <statement>
      <p permid="xhL">
        A car traveling along a straight road is braking and its velocity is measured at several different points in time,
        as given in the following table.
      </p>

      <table permid="rsz">
        <caption>Data for the braking car.</caption>
        <tabular top="minor" bottom="minor" permid="XzI">
          <row>
            <cell>seconds, <m>t</m></cell>
            <cell><m>0</m></cell>
            <cell><m>0.3</m></cell>
            <cell><m>0.6</m></cell>
            <cell><m>0.9</m></cell>
            <cell><m>1.2</m></cell>
            <cell><m>1.5</m></cell>
            <cell><m>1.8</m></cell>
          </row>
          <row>
            <cell>Velocity in ft/sec, <m>v(t)</m></cell>
            <cell><m>100</m></cell>
            <cell><m>88</m></cell>
            <cell><m>74</m></cell>
            <cell><m>59</m></cell>
            <cell><m>40</m></cell>
            <cell><m>19</m></cell>
            <cell><m>0</m></cell>
          </row>
        </tabular>

      </table>

      <p permid="doU">
        <ol label="a." permid="xYJ">
          <li permid="BDj">
            <p permid="cFa">
              Plot the given data on a set of axes with time on the horizontal axis and the velocity on the vertical axis.
            </p>
          </li>

          <li permid="hKs">
            <p permid="IMj">
              Estimate the total distance traveled during the car the time brakes using a middle Riemann sum with 3 subintervals.
            </p>
          </li>

          <li permid="NRB">
            <p permid="oTs">
              Estimate the total distance traveled on <m>[0,1.8]</m> by computing <m>L_6</m>,
              <m>R_6</m>,
              and <m>\frac{1}{2}(L_6 + R_6)</m>.
            </p>
          </li>

          <li permid="tYK">
            <p permid="VaB">
              Assuming that <m>v(t)</m> is always decreasing on <m>[0,1.8]</m>,
              what is the maximum possible distance the car traveled before it stopped?
              Why?
            </p>
          </li>
        </ol>
      </p>
    </statement>
    <answer permid="wjw">
      <p permid="YFb">
        <ol label="a." permid="ZvZ">
          <li permid="afT">

            <sidebyside width="50%" permid="pKq">
              <image source="images/4_2_Ez3Soln" />
            </sidebyside>

          </li>

          <li permid="Gnc">
            <p permid="BhK">
              <m>
              M_3 = 99.6
              </m>
              feet.
            </p>
          </li>

          <li permid="mul">
            <p permid="hoT">
              <m>
              L_6 = 114
              </m>,
              <me permid="auo">
                R_6 = 84
              </me>,
              and 
              <m>
              \frac{1}{2}(L_6 + R_6) = 99</m>.
            </p>
          </li>

          <li permid="SBu">
            <p permid="Nwc">
              <m>114</m> feet.
            </p>
          </li>
        </ol>
      </p>
    </answer>
    <solution permid="Qcn">
      <p permid="Acr">
        <ol label="a." permid="ATp">
          <li permid="yID">
            <p permid="tDl">
              A plot of the given data is shown in the figure below.
            </p>

            <sidebyside width="50%" permid="VRz">
              <image source="images/4_2_Ez3Soln" />
            </sidebyside>

          </li>

          <li permid="ePM">
            <p permid="ZKu">
              For <m>M_3</m> with the given data,
              the midpoints are <m>\overline{x_1} = 0.3</m>,
              <m>\overline{x_2} = 0.9</m>,
              and  <m>\overline{x_3} = 1.5</m>,
              and <m>\triangle t = 0.6</m>, so
              <me permid="GBx">
                M_3 = f(0.3) \cdot 0.6 + f(0.9) \cdot 0.6 + f(1.5) \cdot 0.6 = 166 \cdot 0.6 = 99.6
              </me>.
              Therefore, the car travels approximately <m>99.6</m> feet over the <m>1.8</m> second interval it brakes.
            </p>
          </li>

          <li permid="KWV">
            <p permid="FRD">
              Using the standard formulas,
              <me permid="mIG">
                L_6 = f(0) \cdot 0.3 + f(0.3) \cdot 0.3 + \cdots + f(1.5) \cdot 0.3 = 380 \cdot 0.3 = 114
              </me>
              and
              <me permid="SPP">
                R_6 = f(0.3) \cdot 0.3 + f(0.6) \cdot 0.3 + \cdots + f(1.8) \cdot 0.3 = 280 \cdot 0.3 = 84
              </me>.
              Thus,
              <me permid="yWY">
                \frac{1}{2}(L_6 + R_6) = \frac{114+84}{2} = 99
              </me>.
              Each of these three quantities is an estimate of the total distance traveled:
              <m>L_6</m> is an overestimate and <m>R_6</m> is an underestimate.
            </p>
          </li>

          <li permid="ree">
            <p permid="lYM">
              The maximum possible distance the car traveled before it stopped is <m>114</m> feet.
              This is because <m>L_n</m> is always an overestimate when the function is decreasinging on the interval.
            </p>
          </li>
        </ol>
      </p>
    </solution>
  </exercise>

  <exercise permid="Lsu">
   <title>Evaluating Riemann sums with graphs and formulas</title>
    <statement>
      <p permid="Jwd">
        The rate at which pollution escapes a scrubbing process at a manufacturing plant increases over time as filters and other technologies become less effective.
        For this particular example,
        assume that the rate of pollution
        (in tons per week)
        is given by the function <m>r</m> that is pictured in <xref ref="F-4-2-Ez4">Figure</xref>.
      </p>
      <!--

      <sidebyside widths="47% 47%" margins="0%">
        -->
      <p permid="pDm">
        <ol label="a." permid="efS">
          <li permid="Xln">
            <p permid="SfV">
              Use the graph to estimate the value of <m>M_4</m> on the interval <m>[0,4]</m>.
            </p>
          </li>

          <li permid="Dsw">
            <p permid="yne">
              What is the meaning of <m>M_4</m> in terms of the pollution discharged by the plant?
            </p>
          </li>

          <li permid="jzF">
            <p permid="eun">
              Suppose that <m>r(t) = 0.5 e^{0.5t}</m>.
              Use this formula for <m>r</m> to compute <m>L_5</m> on <m>[0,4]</m>.
            </p>
          </li>

          <li permid="PGO">
            <p permid="KBw">
              Determine an upper bound on the total amount of pollution that can escape the plant during the pictured four week time period that is accurate within an error of at most one ton of pollution.
            </p>
          </li>
        </ol>
      </p>

      <figure xml:id="F-4-2-Ez4" permid="VKv">
        <caption>The rate, <m>r(t)</m>, of pollution in tons per week.</caption>
        <image width="47%" source="images/4_2_Ez4" />
      </figure>
        <!--
      </sidebyside>
      -->
    </statement>
    <answer permid="IxO">
      <p permid="EMk">
        <ol label="a." permid="FDi">
          <li permid="vNX">
            <p permid="qIF">
              <m>
              M_4 \approx 6.4</m>.
            </p>

            <sidebyside width="50%" permid="BYI">
              <image source="images/4_2_Ez4aSoln" />
            </sidebyside>

          </li>

          <li permid="bVg">
            <p permid="WPO">
              The total tonnage of pollution escaping the scrubbing process in the time interval <m>[0,4]</m> weeks.
            </p>
          </li>

          <li permid="Icp">
            <p permid="CWX">
              <m>
              L_5 \approx 5.19620599</m>.
            </p>

            <sidebyside width="50%" permid="ifR">
              <image source="images/4_2_Ez4bSoln" />
            </sidebyside>

          </li>

          <li permid="ojy">
            <p permid="jeg">
              <m>6.4</m> tons.
            </p>
          </li>
        </ol>
      </p>
    </answer>
    <solution permid="cqF">
      <p permid="gjA">
        <ol label="a." permid="hay">
          <li permid="UqH">
            <p permid="Plp">
              We estimate the value of <m>r</m> at the midpoint of each subinterval and then multiply these values by the width (<m>1</m>) of each subinterval to estimate the areas of the rectangles shown in the following figure.
              We use the following approximations:
              <m>r(0.5) \approx 0.6</m>, <m>r(1.5) \approx 1.1</m>,
              <m>r(2.5) \approx 1.8</m>, <m>r(3.5) \approx 2.9</m>, so
              <me permid="feh">
                M_4 \approx (0.6)(1) + (1.1)(1) + (1.8)(1) + (2.9)(1) = 6.4
              </me>.
              \[\]
            </p>

            <sidebyside width="50%" permid="Ona">
              <image source="images/4_2_Ez4aSoln" />
            </sidebyside>

          </li>

          <li permid="AxQ">
            <p permid="vsy">
              Since <m>r(t)</m> is measured in tons/week and <m>t</m> in weeks,
              the units of <m>r(t) \triangle t</m> are tons.
              So <m>M_4</m> approximates the total tonnage of pollution escaping the scrubbing process in the time interval <m>[0,4]</m> weeks.
            </p>
          </li>

          <li permid="gEZ">
            <p permid="bzH">
              Now we are using <m>5</m> subintervals,
              so <m>\triangle t = \frac{4}{5} = 0.8</m>.
              We evaluate <m>r</m> at the left endpoint of each subinterval and multiply by
              <m>\triangle t</m>to determine the areas of the rectangles shown in the following figure.
              So
              <md permid="Llq">
                <mrow>L_5 &amp;= \left(0.5e^{(0.5)(0)}\right)(0.8) + \left(0.5e^{(0.5)(0.8)}\right)(0.8) + \left(0.5e^{(0.5)(1.6)}\right)(0.8)</mrow>
                <mrow>&amp;+ \left(0.5e^{(0.5)(2.4)}\right)(0.8) + \left(0.5e^{(0.5)(3.2)}\right)(0.8)</mrow>
                <mrow>&amp;\approx 5.19620599</mrow>
              </md>.
            </p>

            <sidebyside width="50%" permid="uuj">
              <image source="images/4_2_Ez4bSoln" />
            </sidebyside>

          </li>

          <li permid="MMi">
            <p permid="HGQ">
              Given that <m>r</m> is an increasing function,
              a right sum will always give us an overestimate of the total amount of pollution
              (in tons)
              on the interval <m>[0,4]</m>.
              We use computational technology to compute a few right sums:
              <m>R_{10} \approx 7.049244376</m>,
              <m>R_{50} \approx 6.517689073</m>,
              <m>R_{100} \approx 6.453159616</m>,
              <m>R_{500} \approx 6.401842731</m>.
              These sums don't seem to change in the tens place as we make <m>n</m> sufficiently large,
              so an upper bound on the total amount of pollution on the interval <m>[0,4]</m> that is accurate to within one ton is <m>6.4</m> tons.
            </p>
          </li>
        </ol>
      </p>
    </solution>
  </exercise>

 </exercises>
</section>

